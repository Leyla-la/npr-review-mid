 TÃ“M Táº®T - CÃ”NG THá»¨C NHá»š
ðŸ”§ CÃ¡c hÃ m cÆ¡ báº£n:
java// Gá»¬I message
String â†’ getBytes() â†’ ByteBuffer.wrap() â†’ channel.write()

// NHáº¬N message
channel.read(buffer) â†’ buffer.flip() â†’ new String(buffer.array())

// Gá»¬I file
FileChannel.read(buffer) â†’ buffer.flip() â†’ channel.write(buffer)

// NHáº¬N file
channel.read(buffer) â†’ buffer.flip() â†’ FileChannel.write(buffer)
ðŸ”µ Server pattern:
java1. Selector.open()
2. ServerSocketChannel.open() â†’ bind() â†’ register(OP_ACCEPT)
3. while(true) {
    selector.select()
    for (key : keys) {
        if (isAcceptable) â†’ accept() â†’ register(OP_READ)
        if (isReadable) â†’ read() â†’ process()
    }
}
ðŸ”´ Client pattern:
java1. SocketChannel.open(address)
2. sendMessage()
3. receiveFile() {
    while (read != -1) {
        write to file
    }
}
4. close()